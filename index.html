<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduSmart.AI - Votre Plateforme d'Apprentissage Intégrée</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* =============================================
           Feuille de Style Complète pour EduSmart.AI
           ============================================= */
        
        /* -- Variables Globales et Styles de Base -- */
        :root {
          --primary-color: #4A90E2; --primary-color-dark: #357ABD; --secondary-color: #50E3C2;
          --background-color: #F4F7FC; --surface-color: #FFFFFF; --text-color: #333745;
          --text-color-light: #667085; --border-color: #E2E8F0; --error-color: #E53E3E;
          --success-color: #38A169; --warning-color: #DD6B20; --info-color: #3182CE;
          --font-primary: 'Poppins', sans-serif; --shadow-sm: 0 1px 3px rgba(0,0,0,0.05);
          --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1); --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
          --transition-fast: all 0.2s ease-in-out;
          --header-height: 70px; --max-width: 1400px; --border-radius-md: 8px; --border-radius-lg: 16px;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; font-size: 16px; }
        body { font-family: var(--font-primary); color: var(--text-color); background-color: var(--background-color); }
        .hidden { display: none !important; }
        .container { width: 90%; max-width: var(--max-width); margin: 0 auto; }
        h2 { font-size: 2rem; color: var(--primary-color-dark); margin-bottom: 1.5rem; }
        h3 { font-size: 1.25rem; }
        .page-section { animation: fadeIn 0.5s forwards ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .widget { background: var(--surface-color); padding: 1.5rem; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md); }
        .btn-primary { display: inline-block; background-color: var(--primary-color); color: #fff; padding: 10px 20px; border-radius: var(--border-radius-md); font-weight: 600; border: none; cursor: pointer; text-align: center; text-decoration: none; transition: var(--transition-fast); }
        .btn-primary:hover { background-color: var(--primary-color-dark); transform: translateY(-2px); }

        /* -- Page d'Authentification -- */
        #auth-page { display: flex; justify-content: center; align-items: center; height: 100vh; background: linear-gradient(135deg, var(--primary-color) 0%, #81C784 100%); }
        .auth-container { width: 400px; padding: 40px; background: var(--surface-color); border-radius: var(--border-radius-lg); box-shadow: var(--shadow-lg); text-align: center; }
        .auth-container h1 { color: var(--primary-color); font-size: 2rem; margin-bottom: 10px; }
        .auth-form-group { margin-bottom: 20px; text-align: left; }
        .auth-form-group input { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: var(--border-radius-md); }
        .auth-btn { width: 100%; padding: 15px; border: none; background: var(--primary-color); color: white; font-size: 1rem; font-weight: 600; border-radius: var(--border-radius-md); cursor: pointer; }

        /* -- Entête et Navigation Principale -- */
        #main-header { background-color: var(--surface-color); box-shadow: var(--shadow-md); position: fixed; top: 0; left: 0; width: 100%; height: var(--header-height); z-index: 1000; display: flex; align-items: center; }
        .header-content { display: flex; justify-content: space-between; align-items: center; width: 100%; }
        .logo a { font-size: 1.8rem; font-weight: 700; color: var(--primary-color); text-decoration: none; }
        #main-header nav ul { display: flex; gap: .5rem; list-style: none; }
        #main-header nav a { display: flex; align-items: center; gap: 8px; padding: 8px 12px; color: var(--text-color-light); font-weight: 500; border-radius: var(--border-radius-md); text-decoration: none; position: relative; }
        #main-header nav a::after { content: ''; position: absolute; bottom: -2px; left: 50%; transform: translateX(-50%); width: 0; height: 3px; background: var(--primary-color); transition: width 0.3s ease; }
        #main-header nav a.active { color: var(--primary-color); background-color: var(--background-color); }
        #main-header nav a.active::after { width: 80%; }
        .user-actions { display: flex; align-items: center; gap: 1.5rem; }
        .user-actions a { text-decoration: none; color: var(--text-color); }
        .menu-toggle { display: none; background: none; border: none; font-size: 1.5rem; cursor: pointer; }
        main { padding-top: var(--header-height); }
        .content-wrapper { padding: 2rem 0; min-height: calc(100vh - var(--header-height)); }

        /* -- Notifications et Chatbot Flottant -- */
        .notification-bell { position: relative; cursor: pointer; font-size: 1.2rem; }
        .notification-dot { position: absolute; top: 0; right: 0; width: 8px; height: 8px; background: var(--error-color); border-radius: 50%; border: 1px solid white; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(229, 62, 62, 0.4); } 70% { box-shadow: 0 0 0 10px rgba(229, 62, 62, 0); } 100% { box-shadow: 0 0 0 0 rgba(229, 62, 62, 0); } }
        .notifications-panel { display: none; position: absolute; top: 50px; right: 0; width: 380px; background: var(--surface-color); border-radius: var(--border-radius-md); box-shadow: var(--shadow-lg); z-index: 1001; overflow: hidden; }
        .notifications-panel.active { display: block; animation: fadeIn 0.3s; }
        .fab-chatbot { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: var(--primary-color); color: white; border-radius: 50%; border: none; display: flex; justify-content: center; align-items: center; font-size: 1.8rem; box-shadow: var(--shadow-lg); cursor: pointer; z-index: 1010; transition: all 0.2s ease-in-out; }
        .fab-chatbot:hover { transform: scale(1.1); }
        .chatbot-window { display: none; position: fixed; bottom: 100px; right: 30px; width: 380px; height: 500px; background: var(--surface-color); border-radius: var(--border-radius-lg); box-shadow: var(--shadow-lg); z-index: 1009; flex-direction: column; overflow: hidden; }
        .chatbot-window.active { display: flex; animation: fadeIn 0.3s; }

        /* -- Styles des Sections & Widgets -- */
        .dashboard-grid, .teacher-dashboard-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; align-items: flex-start; }
        .path-step { display: flex; align-items: center; gap: 1rem; padding: 1rem; border: 1px solid var(--border-color); border-radius: var(--border-radius-md); margin-bottom: 1rem; }
        .path-step.done { background: #e8f5e9; border-left: 5px solid var(--success-color); }
        .path-step.active { border-left: 5px solid var(--primary-color); box-shadow: var(--shadow-sm); }
        .courses-grid, .resource-grid, .study-rooms-grid, .gamification-badges-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; }
        .course-card { background-color: var(--surface-color); border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md); transition: all 0.2s ease-in-out; overflow: hidden; }
        .course-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-lg); }
        .course-card-banner { height: 150px; background-size: cover; background-position: center; }
        .course-card-content { padding: 1.5rem; }
        .progress-bar-container { background-color: var(--border-color); border-radius: 99px; height: 8px; margin: 10px 0; }
        .progress-bar { background: var(--secondary-color); height: 100%; border-radius: 99px; }
        .collaboration-layout { display: grid; grid-template-columns: 300px 1fr 2fr; gap: 1rem; height: 75vh; }
        .column-header { padding: 1rem; border-bottom: 1px solid var(--border-color); font-weight: 600; }
        .groups-list, .threads-list { list-style: none; overflow-y: auto; }
        .groups-list li, .threads-list li { padding: 1rem; cursor: pointer; border-bottom: 1px solid var(--border-color); }
        .groups-list li.active, .threads-list li.active { background-color: var(--primary-color); color: white; }
        .thread-message-content { flex-grow: 1; overflow-y: auto; padding: 1rem; }
        
        /* -- Design Réactif -- */
        @media (max-width: 1024px) {
            #main-header nav { display: none; position: fixed; top: var(--header-height); left: 0; width: 100%; height: calc(100vh - var(--header-height)); background-color: var(--surface-color); flex-direction: column; padding-top: 2rem; transform: translateX(-100%); transition: transform 0.3s ease-in-out; z-index: 999; }
            #main-header nav.active { display: flex; transform: translateX(0); }
            #main-header nav ul { flex-direction: column; width: 100%; text-align: center; gap: 0; }
            #main-header nav a { padding: 20px; border-radius: 0; width: 100%; justify-content: center; }
            .menu-toggle { display: block; }
            .dashboard-grid, .collaboration-layout, .teacher-dashboard-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <section id="auth-page">
        <div class="auth-container">
            <h1>EduSmart.AI</h1>
            <p>Connectez-vous pour commencer votre apprentissage.</p>
            <form id="login-form">
                <div class="auth-form-group"><input type="email" value="etudiant@edusmart.ai" required></div>
                <div class="auth-form-group"><input type="password" value="password" required></div>
                <button type="submit" class="auth-btn">Se Connecter</button>
            </form>
        </div>
    </section>

    <div id="main-app" class="hidden">
        <header id="main-header">
            <div class="container header-content">
                <div class="logo"><a href="#dashboard">EduSmart.AI</a></div>
                <nav>
                    <ul>
                        <li><a href="#dashboard" class="nav-link"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                        <li><a href="#courses" class="nav-link"><i class="fas fa-book"></i> Mes Cours</a></li>
                        <li><a href="#gamification" class="nav-link"><i class="fas fa-gamepad"></i> Gamification</a></li>
                        <li><a href="#collaboration" class="nav-link"><i class="fas fa-comments"></i> Dialogue</a></li>
                        <li><a href="#content-creation" class="nav-link"><i class="fas fa-lightbulb"></i> Fabrique de Savoir</a></li>
                        <li><a href="#teachers-ai" class="nav-link"><i class="fas fa-chalkboard-teacher"></i> Espace Profs</a></li>
                    </ul>
                </nav>
                <div class="user-actions">
                    <div class="notification-bell"><i class="fas fa-bell"></i><div class="notification-dot"></div><div class="notifications-panel"></div></div>
                    <select class="btn-secondary" style="padding: 8px;"><option>FR</option><option>EN</option></select>
                    <a href="#profile" class="nav-link profile-link"><i class="fas fa-user-circle"></i> Mon Profil</a>
                    <button class="menu-toggle"><i class="fas fa-bars"></i></button>
                </div>
            </div>
        </header>

        <main>
            <section id="dashboard" class="page-section">
                <div class="container content-wrapper">
                    <div class="dashboard-grid">
                        <div class="main-column">
                            <div class="widget"><h3><i class="fas fa-route"></i> Mon Parcours d'Apprentissage Personnalisé</h3>
                                <div class="path-step done"><i class="fas fa-check-circle"></i><div><strong>Leçon : Dérivées</strong><p>Notion acquise !</p></div></div>
                                <div class="path-step active"><i class="fas fa-pencil-alt"></i><div><strong>Quiz : Dérivées</strong><p>Prochaine étape pour valider vos acquis.</p></div></div>
                                <div class="path-step"><i class="fas fa-book"></i><div><strong>Leçon : Intégrales</strong><p>Se débloquera après le quiz.</p></div></div>
                            </div>
                            <div class="widget"><h3><i class="fas fa-star"></i> Recommandations de l'IA</h3>
                                <p>Basé sur vos performances, voici des contenus qui pourraient vous aider :</p>
                                <ul style="list-style: none; padding:0;">
                                    <li class="path-step"><i class="fas fa-video"></i><div><strong>Vidéo :</strong> Visualiser le concept de limite</div></li>
                                    <li class="path-step"><i class="fas fa-flask"></i><div><strong>Simulation :</strong> L'aire sous la courbe</div></li>
                                </ul>
                            </div>
                        </div>
                        <div class="sidebar-column"><div class="widget"><h3><i class="far fa-calendar-alt"></i> Agenda</h3><p><strong>Demain :</strong> Échéance Devoir de Physique.</p><p><strong>Mercredi :</strong> Webinaire "Méthodologie".</p></div></div>
                    </div>
                </div>
            </section>

            <section id="courses" class="page-section hidden">
                <div class="container content-wrapper">
                    <h2>Mes Cours</h2>
                    <div class="courses-grid">
                        <div class="course-card"><div class="course-card-banner" style="background-color: #4A90E2"></div><div class="course-card-content"><h4>Mathématiques - Analyse (Prépa)</h4><p>Avec M. Diallo</p><div class="progress-bar-container"><div class="progress-bar" style="width: 75%;"></div></div></div></div>
                        <div class="course-card"><div class="course-card-banner" style="background-color: #50E3C2"></div><div class="course-card-content"><h4>Physique - Mécanique (Lycée)</h4><p>Avec Mme. Traoré</p><div class="progress-bar-container"><div class="progress-bar" style="width: 40%;"></div></div></div></div>
                        <div class="course-card"><div class="course-card-banner" style="background-color: #E2B44A"></div><div class="course-card-content"><h4>Histoire - XIXe siècle (Lycée)</h4><p>Avec M. Ndiaye</p><div class="progress-bar-container"><div class="progress-bar" style="width: 90%;"></div></div></div></div>
                        <div class="course-card"><div class="course-card-banner" style="background-color: #E53E3E"></div><div class="course-card-content"><h4>Chimie Organique (Prépa)</h4><p>Avec Mme. Gaye</p><div class="progress-bar-container"><div class="progress-bar" style="width: 60%;"></div></div></div></div>
                    </div>
                </div>
            </section>
            
            <section id="gamification" class="page-section hidden">
                <div class="container content-wrapper">
                    <h2>Gamification</h2>
                    <div class="dashboard-grid">
                        <div class="widget"><h3>Niveau Actuel: Virtuose II</h3><div class="progress-bar-container"><div class="progress-bar" style="width: 80%;"></div></div><p>8200 / 10000 points pour le niveau suivant</p></div>
                        <div class="widget"><h3>Classement de la semaine</h3><ol><li>Vous - 1250 pts</li><li>Amina K. - 1100 pts</li><li>Moussa F. - 980 pts</li></ol></div>
                    </div>
                    <div class="widget" style="margin-top:2rem;"><h3>Mes Badges</h3><div class="gamification-badges-grid"><div class="badge-item"><i class="fas fa-medal fa-2x"></i><p>Maître des Bases</p></div><div class="badge-item"><i class="fas fa-fire fa-2x"></i><p>Série de 5 jours</p></div></div></div>
            </section>
            
            <section id="collaboration" class="page-section hidden">
                <div class="container content-wrapper">
                    <h2>Dialogue & Forums</h2>
                    <div class="collaboration-layout">
                        <div class="groups-column"><div class="column-header">Groupes</div><ul class="groups-list"></ul></div>
                        <div class="threads-column"><div class="column-header">Discussions</div><ul class="threads-list"></ul></div>
                        <div class="chat-column"><div class="column-header">Conversation</div><div class="thread-message-content"></div></div>
                    </div>
                </div>
            </section>
            
            <section id="content-creation" class="page-section hidden">
                 <div class="container content-wrapper">
                    <h2>Fabrique de Savoir</h2>
                    <div class="widget"><p>Générez des fiches de révision, des quiz et des exercices sur n'importe quel sujet.</p><input type="text" id="content-topic" placeholder="Sujet (ex: La mitose)" style="width:100%; padding:10px; margin-bottom:1rem;"><button class="btn-primary">Générer</button></div>
                 </div>
            </section>

            <section id="teachers-ai" class="page-section hidden">
                 <div class="container content-wrapper">
                    <h2>Espace Professeur</h2>
                    <div class="teacher-dashboard-grid">
                        <div class="widget"><h3><i class="fas fa-exclamation-triangle"></i> Détection d'élèves en difficulté (IA)</h3><p><strong>Amina K. :</strong> Baisse de 20% aux quiz de Physique.</p></div>
                        <div class="widget"><h3><i class="fas fa-tasks"></i> Devoirs à Corriger</h3><p><strong>Dissertation Philo - Term L2 :</strong> 5 copies en attente.</p><button class="btn-secondary">Feedback automatisé par IA</button></div>
                    </div>
                 </div>
            </section>
            
            <section id="profile" class="page-section hidden">
                <div class="container content-wrapper">
                    <h2>Mon Profil</h2>
                    <div class="widget">
                        <h3><i class="fas fa-chart-pie"></i> Analyse de Compétences</h3>
                        <p>Vue d'ensemble de vos points forts et des domaines à améliorer, générée par l'IA.</p>
                        <div style="max-width: 400px; margin: auto;"><canvas id="skillsChart"></canvas></div>
                    </div>
                </div>
            </section>
        </main>

        <button class="fab-chatbot"><i class="fas fa-robot"></i></button>
        <div class="chatbot-window">
            <div class="chatbot-header">EduBot - Assistant 24/7</div>
            <div class="chatbot-display" style="padding:1rem;"></div>
            <div class="chatbot-input" style="padding:1rem;"><input type="text" style="width:100%;" placeholder="Posez une question..."><button class="btn-primary" style="margin-left:10px;"><i class="fas fa-paper-plane"></i></button></div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        
        // --- GESTION DE L'AUTHENTIFICATION ---
        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            document.getElementById('auth-page').classList.add('hidden');
            document.getElementById('main-app').classList.remove('hidden');
            navigateTo(window.location.hash || '#dashboard');
            initializeAll();
        });

        // --- NAVIGATION SPA ---
        const pageSections = document.querySelectorAll('.page-section');
        const navLinks = document.querySelectorAll('.nav-link');
        function navigateTo(hash) {
            if (!hash || hash === '#') hash = '#dashboard';
            pageSections.forEach(s => s.classList.add('hidden'));
            const target = document.querySelector(hash);
            if (target) target.classList.remove('hidden');
            navLinks.forEach(l => l.classList.toggle('active', l.getAttribute('href') === hash));
            if (document.querySelector('#main-header nav').classList.contains('active')) document.querySelector('.menu-toggle').click();
        }
        document.body.addEventListener('click', e => { if (e.target.closest('.nav-link')) { e.preventDefault(); window.location.hash = e.target.closest('.nav-link').getAttribute('href'); } });
        window.addEventListener('hashchange', () => navigateTo(window.location.hash));
        document.querySelector('.menu-toggle').addEventListener('click', () => document.querySelector('#main-header nav').classList.toggle('active'));

        // --- NOTIFICATIONS & CHATBOT ---
        document.querySelector('.fab-chatbot').addEventListener('click', () => document.querySelector('.chatbot-window').classList.toggle('active'));
        const notificationBell = document.querySelector('.notification-bell');
        const notificationsPanel = document.querySelector('.notifications-panel');
        const notificationsData = [{ icon: 'fa-graduation-cap', text: "<strong>Mme. Traoré</strong> a noté votre devoir." }, { icon: 'fa-medal', text: "Nouveau badge débloqué !" }];
        notificationsPanel.innerHTML = `<div class="column-header">Notifications</div>` + notificationsData.map(n => `<div style="padding:1rem; display:flex; gap:1rem; border-bottom: 1px solid var(--border-color);"><i class="fas ${n.icon}"></i><div>${n.text}</div></div>`).join('');
        notificationBell.addEventListener('click', e => { e.stopPropagation(); notificationsPanel.classList.toggle('active'); });
        document.addEventListener('click', () => notificationsPanel.classList.remove('active'));
        
        // --- DONNÉES ET LOGIQUE DU FORUM ---
        const collaborationData = {
            'general': { name: 'Forum Général', threads: [{ id: 1, title: 'Ressources pour le BAC' }] },
            'maths-prepa': { name: 'Maths - Prépa MPSI', threads: [{ id: 2, title: 'Problème sur les intégrales' }] }
        };
        const messagesData = {
            1: [{ author: 'Amina', text: 'Salut, quelqu\'un a des bons sites pour réviser ?' }, { author: 'Jean', text: 'Oui, regarde sur prepabac.com !' }],
            2: [{ author: 'Moussa', text: 'Je bloque sur cet exercice...' }]
        };
        const groupsList = document.querySelector('.groups-list');
        const threadsList = document.querySelector('.threads-list');
        const chatContent = document.querySelector('.thread-message-content');
        if (groupsList) {
            groupsList.innerHTML = Object.keys(collaborationData).map(k => `<li data-group="${k}">${collaborationData[k].name}</li>`).join('');
            groupsList.addEventListener('click', e => { if (e.target.tagName === 'LI') {
                const gId = e.target.dataset.group;
                threadsList.innerHTML = collaborationData[gId].threads.map(t => `<li data-thread="${t.id}">${t.title}</li>`).join('');
            }});
            threadsList.addEventListener('click', e => { if (e.target.tagName === 'LI') {
                const tId = e.target.dataset.thread;
                chatContent.innerHTML = (messagesData[tId] || []).map(m => `<div style="margin-bottom:1rem;"><p><strong>${m.author}</strong></p><p>${m.text}</p></div>`).join('');
            }});
        }
        
        // --- INITIALISATION DES GRAPHIQUES ---
        function initializeAll() {
            new Chart(document.getElementById('skillsChart'), { type: 'radar', data: { labels: ['Algèbre', 'Analyse', 'Géométrie', 'Probabilités', 'Logique'], datasets: [{ label: 'Mes Compétences', data: [85, 70, 60, 75, 90], backgroundColor: 'rgba(74, 144, 226, 0.2)', borderColor: '#4A90E2' }] }, options: { scales: { r: { beginAtZero: true, max: 100 } } } });
        }
    });
    </script>
</body>
</html>
