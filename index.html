<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduSmart.AI v4.0 - Plateforme d'Apprentissage Intégrée</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /*=============================================
        =         EduSmart.AI Stylesheet v4.0         =
        =============================================*/
        :root {
          --primary-color: #4A90E2; --primary-color-dark: #357ABD; --secondary-color: #50E3C2;
          --background-color: #F4F7FC; --surface-color: #FFFFFF; --text-color: #333745;
          --text-color-light: #667085; --border-color: #E2E8F0; --error-color: #E53E3E;
          --success-color: #38A169; --warning-color: #DD6B20; --info-color: #3182CE;
          --font-primary: 'Poppins', sans-serif; --shadow-sm: 0 1px 3px rgba(0,0,0,0.05);
          --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1); --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
          --transition-fast: all 0.2s ease-in-out; --transition-smooth: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
          --header-height: 70px; --max-width: 1400px; --border-radius-md: 8px; --border-radius-lg: 16px;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; font-size: 16px; }
        body { font-family: var(--font-primary); color: var(--text-color); background-color: var(--background-color); }
        .hidden { display: none !important; }
        .container { width: 90%; max-width: var(--max-width); margin: 0 auto; }
        h2 { font-size: 2rem; color: var(--primary-color-dark); margin-bottom: 1.5rem; }
        h3 { font-size: 1.25rem; }
        .page-section { animation: fadeIn 0.5s forwards ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .widget { background: var(--surface-color); padding: 1.5rem; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md); }
        .btn-primary { display: inline-block; background-color: var(--primary-color); color: #fff; padding: 10px 20px; border-radius: var(--border-radius-md); font-weight: 600; border: none; cursor: pointer; text-align: center; text-decoration: none; transition: var(--transition-fast); }
        .btn-primary:hover { background-color: var(--primary-color-dark); transform: translateY(-2px); }
        .btn-secondary { background: var(--surface-color); color: var(--text-color); border: 1px solid var(--border-color); padding: 8px 15px; border-radius: var(--border-radius-md); cursor: pointer; }

        /* Auth Page */
        #auth-page { display: flex; justify-content: center; align-items: center; height: 100vh; background: linear-gradient(135deg, var(--primary-color) 0%, #81C784 100%); }
        .auth-container { width: 400px; padding: 40px; background: var(--surface-color); border-radius: var(--border-radius-lg); box-shadow: var(--shadow-lg); text-align: center; }
        .auth-container h1 { color: var(--primary-color); font-size: 2rem; margin-bottom: 10px; }
        .auth-form-group { margin-bottom: 20px; text-align: left; }
        .auth-form-group input { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: var(--border-radius-md); }
        .auth-btn { width: 100%; padding: 15px; border: none; background: var(--primary-color); color: white; font-size: 1rem; font-weight: 600; border-radius: var(--border-radius-md); cursor: pointer; }

        /* Header & Nav */
        #main-header { background-color: var(--surface-color); box-shadow: var(--shadow-md); position: fixed; top: 0; left: 0; width: 100%; height: var(--header-height); z-index: 1000; display: flex; align-items: center; }
        .header-content { display: flex; justify-content: space-between; align-items: center; width: 100%; }
        .logo a { font-size: 1.8rem; font-weight: 700; color: var(--primary-color); text-decoration: none; }
        #main-header nav ul { display: flex; gap: .5rem; list-style: none; }
        #main-header nav a { display: flex; align-items: center; gap: 8px; padding: 8px 12px; color: var(--text-color-light); font-weight: 500; border-radius: var(--border-radius-md); text-decoration: none; position: relative; }
        #main-header nav a::after { content: ''; position: absolute; bottom: -2px; left: 50%; transform: translateX(-50%); width: 0; height: 3px; background: var(--primary-color); transition: width 0.3s ease; }
        #main-header nav a.active, #main-header nav a:hover { color: var(--primary-color); background-color: var(--background-color); }
        #main-header nav a.active::after { width: 80%; }
        .user-actions { display: flex; align-items: center; gap: 1rem; }
        .user-actions a { text-decoration: none; color: var(--text-color); }
        .menu-toggle { display: none; background: none; border: none; font-size: 1.5rem; cursor: pointer; }
        main { padding-top: var(--header-height); }
        .content-wrapper { padding: 2rem 0; min-height: calc(100vh - var(--header-height)); }

        /* Notifications & Language */
        .notification-bell { position: relative; cursor: pointer; font-size: 1.2rem; }
        .notification-dot { position: absolute; top: 0; right: 0; width: 8px; height: 8px; background: var(--error-color); border-radius: 50%; border: 1px solid white; }
        .notifications-panel { display: none; position: absolute; top: 50px; right: 0; width: 350px; background: var(--surface-color); border-radius: var(--border-radius-md); box-shadow: var(--shadow-lg); z-index: 1001; }
        .notifications-panel.active { display: block; }
        
        /* Dashboard */
        .dashboard-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; }
        .path-step { display: flex; align-items: center; gap: 1rem; padding: 1rem; border: 1px solid var(--border-color); border-radius: var(--border-radius-md); margin-bottom: 1rem; }
        .path-step.done { background: #e8f5e9; }
        .path-step-icon { font-size: 1.5rem; color: var(--primary-color); }
        
        /* Profile & Reports */
        .profile-header { display: flex; align-items: center; gap: 2rem; margin-bottom: 2rem; }
        .profile-avatar { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; }
        .skills-chart-container { max-width: 400px; margin: auto; }
        
        /* Collaboration & Study Rooms */
        .collaboration-layout { display: grid; grid-template-columns: 300px 1fr; gap: 1rem; }
        .collaboration-sidebar .widget { margin-bottom: 1rem; }
        .room-card { display: flex; justify-content: space-between; align-items: center; padding: 1rem; border: 1px solid var(--border-color); border-radius: var(--border-radius-md); }
        
        /* Teacher's Dashboard */
        .teacher-dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem; }
        .vigilance-item { display: flex; align-items: center; gap: 1rem; padding: .5rem 0; }

        /* Floating Action Button (FAB) for Chatbot */
        .fab-chatbot {
            position: fixed; bottom: 30px; right: 30px;
            width: 60px; height: 60px;
            background: var(--primary-color); color: white;
            border-radius: 50%; border: none;
            display: flex; justify-content: center; align-items: center;
            font-size: 1.8rem; box-shadow: var(--shadow-lg);
            cursor: pointer; z-index: 1010; transition: var(--transition-smooth);
        }
        .fab-chatbot:hover { transform: scale(1.1); background: var(--primary-color-dark); }
        .chatbot-window {
            display: none; position: fixed; bottom: 100px; right: 30px;
            width: 380px; height: 500px;
            background: var(--surface-color); border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-lg); z-index: 1009;
            flex-direction: column; overflow: hidden;
            transform: translateY(20px); opacity: 0; transition: all 0.3s ease-out;
        }
        .chatbot-window.active { display: flex; transform: translateY(0); opacity: 1; }
        .chatbot-header { padding: 1rem; background: var(--primary-color); color: white; font-weight: 600; }
        .chatbot-display { flex-grow: 1; padding: 1rem; overflow-y: auto; }
        .chatbot-input { display: flex; padding: 1rem; border-top: 1px solid var(--border-color); }

        /* Responsive */
        @media (max-width: 1024px) {
            #main-header nav { display: none; position: fixed; top: var(--header-height); left: 0; width: 100%; height: calc(100vh - var(--header-height)); background-color: var(--surface-color); flex-direction: column; padding-top: 2rem; transform: translateX(-100%); transition: transform 0.3s ease-in-out; z-index: 999; }
            #main-header nav.active { display: flex; transform: translateX(0); }
            #main-header nav ul { flex-direction: column; width: 100%; text-align: center; gap: 0; }
            #main-header nav a { padding: 20px; border-radius: 0; width: 100%; justify-content: center; }
            .menu-toggle { display: block; }
            .dashboard-grid, .collaboration-layout { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <section id="auth-page">
        <div class="auth-container">
            <h1>Bienvenue sur EduSmart.AI</h1>
            <p>Connectez-vous pour commencer votre aventure.</p>
            <form id="login-form">
                <div class="auth-form-group"><input type="email" value="etudiant@edusmart.ai" required></div>
                <div class="auth-form-group"><input type="password" value="password" required></div>
                <button type="submit" class="auth-btn">Se Connecter</button>
            </form>
        </div>
    </section>

    <div id="main-app" class="hidden">
        <header id="main-header">
            <div class="container header-content">
                <div class="logo"><a href="#dashboard">EduSmart.AI</a></div>
                <nav>
                    <ul>
                        <li><a href="#dashboard" class="nav-link"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                        <li><a href="#courses" class="nav-link"><i class="fas fa-book"></i> Mes Cours</a></li>
                        <li><a href="#library" class="nav-link"><i class="fas fa-photo-film"></i> Médiathèque</a></li>
                        <li><a href="#reports" class="nav-link"><i class="fas fa-chart-line"></i> Rapports</a></li>
                        <li><a href="#collaboration" class="nav-link"><i class="fas fa-users"></i> Collaboration</a></li>
                        <li><a href="#teachers-ai" class="nav-link"><i class="fas fa-chalkboard-teacher"></i> Espace Profs</a></li>
                    </ul>
                </nav>
                <div class="user-actions">
                    <div class="notification-bell">
                        <i class="fas fa-bell"></i>
                        <div class="notification-dot"></div>
                        <div class="notifications-panel"><div style="padding:1rem; text-align:center;">Aucune nouvelle notification</div></div>
                    </div>
                    <a href="#profile" class="nav-link profile-link"><i class="fas fa-user-circle"></i> Mon Profil</a>
                    <select class="language-switcher btn-secondary" style="padding: 8px;"><option>FR</option><option>EN</option><option>AR</option></select>
                    <button class="menu-toggle"><i class="fas fa-bars"></i></button>
                </div>
            </div>
        </header>

        <main>
            <section id="dashboard" class="page-section">
                <div class="container content-wrapper">
                    <h2>Tableau de Bord</h2>
                    <div class="dashboard-grid">
                        <div class="main-column">
                            <div class="widget">
                                <h3><i class="fas fa-route"></i> Mon Parcours Personnalisé</h3>
                                <div class="path-step done"><div class="path-step-icon"><i class="fas fa-check-circle"></i></div><div><strong>Revoir les fonctions</strong><p>Leçon terminée le 06/06/2025</p></div></div>
                                <div class="path-step"><div class="path-step-icon"><i class="fas fa-pencil-alt"></i></div><div><strong>Prochaine étape : Quiz sur les fonctions</strong><p>Testez vos connaissances pour débloquer la suite.</p></div></div>
                            </div>
                             <div class="widget">
                                <h3><i class="fas fa-star"></i> Recommandé pour vous</h3>
                                <p>Basé sur vos progrès, voici des contenus qui pourraient vous intéresser.</p>
                                </div>
                        </div>
                        <div class="sidebar-column">
                            <div class="widget"><h3><i class="far fa-calendar-alt"></i> Agenda</h3><p>Échéance du devoir de Physique demain à 18:00.</p></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="courses" class="page-section hidden">
                <div class="container content-wrapper">
                    <h2>Mes Cours</h2>
                    </div>
            </section>
            
            <section id="library" class="page-section hidden">
                 <div class="container content-wrapper">
                    <h2>Médiathèque</h2>
                    </div>
            </section>

            <section id="reports" class="page-section hidden">
                <div class="container content-wrapper">
                    <h2>Rapports de Performance</h2>
                    <div class="widget">
                        <h3>Progression Globale</h3>
                        <canvas id="progressChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="collaboration" class="page-section hidden">
                <div class="container content-wrapper">
                    <h2>Collaboration</h2>
                    <div class="collaboration-layout">
                        <div class="collaboration-sidebar">
                            <div class="widget"><h3><i class="fas fa-comments"></i> Forums</h3><p>Rejoignez les discussions par matière.</p></div>
                            <div class="widget"><h3><i class="fas fa-users"></i> Salles d'Étude</h3><div class="room-card"><span>Révision BAC Maths</span><button class="btn-primary">Rejoindre</button></div></div>
                        </div>
                        <div class="main-content"><div class="widget"><h3>Sélectionnez un forum pour commencer</h3></div></div>
                    </div>
                </div>
            </section>

            <section id="teachers-ai" class="page-section hidden">
                 <div class="container content-wrapper">
                    <h2>Espace Professeur</h2>
                    <div class="teacher-dashboard-grid">
                        <div class="widget">
                            <h3><i class="fas fa-exclamation-triangle"></i> Vigilance Pédagogique (IA)</h3>
                            <div class="vigilance-item"><i class="fas fa-user-circle"></i> <div><strong>Élève Y:</strong> Baisse de performance détectée en Physique.</div></div>
                            <div class="vigilance-item"><i class="fas fa-user-circle"></i> <div><strong>Élève Z:</strong> N'a pas rendu les deux derniers devoirs.</div></div>
                        </div>
                        <div class="widget">
                            <h3><i class="fas fa-tasks"></i> Devoirs à Corriger</h3>
                            <div class="room-card"><span>Devoir de Maths - Term S1</span><button class="btn-secondary">Analyser avec l'IA</button></div>
                        </div>
                    </div>
                 </div>
            </section>

            <section id="profile" class="page-section hidden">
                <div class="container content-wrapper">
                    <div class="profile-header">
                        <img src="https://i.pravatar.cc/150?u=a042581f4e29026704d" alt="Avatar" class="profile-avatar">
                        <div><h2>Jean Dupont</h2><p>Étudiant en Classes Prépa</p></div>
                    </div>
                    <div class="widget">
                        <h3><i class="fas fa-chart-pie"></i> Analyse de Compétences</h3>
                        <div class="skills-chart-container"><canvas id="skillsChart"></canvas></div>
                    </div>
                </div>
            </section>
        </main>

        <button class="fab-chatbot"><i class="fas fa-robot"></i></button>
        <div class="chatbot-window">
            <div class="chatbot-header">EduBot - Votre Assistant IA</div>
            <div class="chatbot-display"></div>
            <div class="chatbot-input"><input type="text" placeholder="Posez une question..."><button><i class="fas fa-paper-plane"></i></button></div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        const authPage = document.getElementById('auth-page');
        const mainApp = document.getElementById('main-app');
        const loginForm = document.getElementById('login-form');

        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            authPage.style.transition = 'opacity 0.5s ease-out';
            authPage.style.opacity = '0';
            setTimeout(() => {
                authPage.classList.add('hidden');
                mainApp.classList.remove('hidden');
                mainApp.style.opacity = '0';
                setTimeout(() => { mainApp.style.opacity = '1'; }, 50);
                navigateTo(window.location.hash || '#dashboard');
                initializeCharts();
            }, 500);
        });

        const navLinks = document.querySelectorAll('.nav-link');
        const pageSections = document.querySelectorAll('.page-section');
        const menuToggle = document.querySelector('.menu-toggle');
        const headerNav = document.querySelector('#main-header nav');
        
        function navigateTo(hash) {
            if (!hash || hash === '#') hash = '#dashboard';
            pageSections.forEach(section => section.classList.add('hidden'));
            
            const targetSection = document.querySelector(hash);
            if (targetSection) targetSection.classList.remove('hidden');
            
            navLinks.forEach(link => link.classList.toggle('active', link.getAttribute('href') === hash));
            if (headerNav.classList.contains('active')) menuToggle.click();
        }

        document.body.addEventListener('click', (e) => {
            if (e.target.closest('.nav-link')) {
                e.preventDefault();
                const link = e.target.closest('.nav-link');
                const hash = link.getAttribute('href');
                if (window.location.hash !== hash) window.location.hash = hash;
                else navigateTo(hash);
            }
        });
        
        window.addEventListener('hashchange', () => navigateTo(window.location.hash));
        menuToggle.addEventListener('click', () => headerNav.classList.toggle('active'));

        // FAB Chatbot Logic
        const fabChatbot = document.querySelector('.fab-chatbot');
        const chatbotWindow = document.querySelector('.chatbot-window');
        fabChatbot.addEventListener('click', () => {
            chatbotWindow.classList.toggle('active');
        });

        // Notifications Logic
        const notificationBell = document.querySelector('.notification-bell');
        const notificationsPanel = document.querySelector('.notifications-panel');
        notificationBell.addEventListener('click', (e) => {
            e.stopPropagation();
            notificationsPanel.classList.toggle('active');
        });
        document.addEventListener('click', () => notificationsPanel.classList.remove('active'));

        // Chart.js Initialization
        let progressChartInstance, skillsChartInstance;
        function initializeCharts() {
            const progressCtx = document.getElementById('progressChart');
            if (progressCtx && !progressChartInstance) {
                progressChartInstance = new Chart(progressCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Juin'],
                        datasets: [{ label: 'Progression des notes', data: [12, 13, 12.5, 14, 15, 16], borderColor: 'rgba(74, 144, 226, 1)', tension: 0.1 }]
                    }
                });
            }

            const skillsCtx = document.getElementById('skillsChart');
            if (skillsCtx && !skillsChartInstance) {
                skillsChartInstance = new Chart(skillsCtx, {
                    type: 'radar',
                    data: {
                        labels: ['Algèbre', 'Analyse', 'Géométrie', 'Probabilités', 'Logique'],
                        datasets: [{
                            label: 'Mes Compétences',
                            data: [85, 70, 60, 75, 90],
                            fill: true,
                            backgroundColor: 'rgba(74, 144, 226, 0.2)',
                            borderColor: 'rgba(74, 144, 226, 1)',
                        }]
                    },
                    options: { scales: { r: { beginAtZero: true, max: 100 } } }
                });
            }
        }
    });
    </script>
</body>
</html>
